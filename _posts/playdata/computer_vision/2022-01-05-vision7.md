---
laout : single
title: "영상의 밝기와 명암비 조절"
excerpt : "밝기 조절, 명암비 조절, 히스토그램 분석"
categories :
- Computer Vision
tags :
- [Playdata , Python, OpenCV, Computer Vision]
toc: true #Table of contents 옆에 목록이 생성됨
toc_sticky: true #toc가 화면을 따라 내려옴
toc_label: 목차 #toc 상단에 써있는 제목

date: 2022-01-05
last_modified_at: 2022-01-05
---

## 영상의 밝기와 명암비 조절

### 밝기 조절

#### 함수를 구현하여 밝기 증가
```
In :  src = cv2.imread('./data/lenna.bmp', cv2.IMREAD_GRAYSCALE)

      def add(arr, value):
          arr = arr.copy().astype('uint32')+value
          arr[arr>255]=255
          arr = arr.copy().astype('uint8')
          return arr

      dst = add(src,100)

      cv2.imshow('src',src)
      cv2.imshow('dst',dst)

      cv2.waitKey()
      cv2.destroyAllWindows()
```

#### OpenCV 내장 함수를 이용한 밝기 증가
```
In :  ## cv2.add 기본 함수
      src = cv2.imread('./data/lenna.bmp', cv2.IMREAD_GRAYSCALE)
      dst = np.empty(src.shape, src.dtype)
      dst = cv2.add(src, 100)

      cv2.imshow('src',src)
      cv2.imshow('dst',dst)

      cv2.waitKey()
      cv2.destroyAllWindows()
```
<div style="text-align:center;">
<img src="/assets/post_photo/opencv/220106_lenna3.jpg" width="40%">
<img src="/assets/post_photo/opencv/220106_lenna4.jpg" width="40%">
</div>

#### 트랙바 추가하여 밝기 조절하기
```
In :  def add(arr, value):
          arr = arr.copy().astype('uint32')+value
          arr[arr>255]=255
          arr = arr.copy().astype('uint8')
          return arr

      def update(pos):
          dst = add(src, pos)
          cv2.imshow('src',dst)

      src = cv2.imread('./data/lenna.bmp', cv2.IMREAD_GRAYSCALE)

      cv2.namedWindow('src')
      cv2.createTrackbar("brightness","src",0,100,update) # 0~100
      cv2.setTrackbarPos('brightness','src',50) # 시작시 밝기 조절 50수준

      cv2.waitKey()
      cv2.destroyAllWindows()
```
<div style="text-align:center;">
<img src="/assets/post_photo/opencv/220106_lennatrack1.jpg" width="40%">
<img src="/assets/post_photo/opencv/220106_lennatrack2.jpg" width="40%">
</div>
